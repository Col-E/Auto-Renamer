<!-- Use this to copy maven <dependency> blocks to simple identifiers -->
<html>
<head>
	<style>
textarea {
	width: 100%;
	height: 100%;
}
</style>
</head>
<body>
<textarea id="input"></textarea>
<script>
var areaIn = document.getElementById("input");
if (areaIn.addEventListener) {
	areaIn.addEventListener('input', function() {
		console.log("Parsing <dependency>");
		var str = document.getElementById("input").value;
		var group = str.substring(
			str.lastIndexOf("<groupId>") + 9,
			str.lastIndexOf("</groupId>")
		);
		var artifact = str.substring(
			str.lastIndexOf("<artifactId>") + 12,
			str.lastIndexOf("</artifactId>")
		);
		var version = str.substring(
			str.lastIndexOf("<version>") + 9,
			str.lastIndexOf("</version>")
		);
		var combined = group + ":" + artifact + ":" + version;
		areaIn.value = combined;
		copyToClipboard(combined);
		console.log("Copied mvn id to clipboard");
	}, false);
}
function copyToClipboard(text) {
    if (window.clipboardData && window.clipboardData.setData) {
        return clipboardData.setData("Text", text);
    }
    else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
        var textarea = document.createElement("textarea");
        textarea.textContent = text;
        textarea.style.position = "fixed";
        document.body.appendChild(textarea);
        textarea.select();
        try {
            return document.execCommand("copy");
        }
        catch (ex) {
            console.warn("Copy to clipboard failed.", ex);
            return false;
        }
        finally {
            document.body.removeChild(textarea);
        }
    }
}
</script>
</body>
</html>